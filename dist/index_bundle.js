/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["scc"] = factory();
	else
		root["scc"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/common/env.js":
/*!***************************!*\
  !*** ./src/common/env.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SCCVars\": () => (/* binding */ SCCVars)\n/* harmony export */ });\nlet SCCVars = {\n  AUTH_TOKEN: 'Bearer <token>',\n  API_KEY: 'UDPWeb1',\n  TRANSPORTER_BASE_URL: 'https://developers-stage.adobe.io/console',\n  CONSOLE_BASE_URL: 'https://developer-stage.adobe.com/console'\n};\n\n//# sourceURL=webpack://scc/./src/common/env.js?");

/***/ }),

/***/ "./src/common/styles.js":
/*!******************************!*\
  !*** ./src/common/styles.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getSCCStyles\": () => (/* binding */ getSCCStyles)\n/* harmony export */ });\nfunction getSCCStyles(top, left, bottom, right) {\n  return `.scc-hidden {\n        display: none !important;\n    }\n    .scc-button-container {\n        background-color: white;\n    }\n    .scc-widget-button {\n      padding: 0 16px;\n    }\n    .scc-button-container-small {\n        display: flex;\n        padding: 12px;\n    }\n    .scc-dev-console-link-container {\n      margin: 16px 0 !important;\n    }\n    .scc-message-container {\n        box-shadow: 0 0 18px 8px rgba(0, 0, 0, 0.1), 0 0 32px 32px rgba(0, 0, 0, 0.08);\n        width: 500px;\n        right: ${right};\n        bottom: ${bottom};\n        left: ${left};\n        top: ${top};\n        max-height: 500px;\n        position: absolute;\n        transition: max-height .2s ease;\n        border-style: solid;\n        border-color: var(--spectrum-gray-400);\n        border-radius: 10px;\n        border-width: thin;\n    }\n    \n    .scc-message-container.scc-hidden {\n        max-height: 0px;\n    }\n    .scc-message-container h3 {\n        margin: 0;\n        padding: 12px 12px;\n        color: white;\n        background-color: var(--spectrum-global-color-gray-800);\n        border-radius: 8px 8px 0px 0px;\n    }\n    .scc-message-container .content {\n        margin: 20px 10px ;\n        border: 1px solid #dbdbdb;\n        padding: 10px;\n        display: flex;\n        flex-direction: column;\n    }\n    #scc-loader {\n      margin-bottom: 30px;\n      margin-left: 45%;\n    }\n    \n    @-webkit-keyframes spin {\n      0% { -webkit-transform: rotate(0deg); }\n      100% { -webkit-transform: rotate(360deg); }\n    }\n    \n    @keyframes spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n    \n    .scc-message-container-header {\n      color: #2c2c2c;\n      font-size: 18px;\n      font-weight: 700;\n      line-height: 1.3;\n      font-style: normal;\n      letter-spacing: 0;\n      text-transform: none;\n      margin-bottom: 8px;\n      margin-top: 8px;\n    }\n    \n    .scc-message-container-sub-header {\n      color: #736b6b;\n      font-size: 12px;\n      font-weight: 700;\n      line-height: 1.3;\n      font-style: normal;\n      letter-spacing: 0;\n      text-transform: none;\n      margin-bottom: 8px;\n      margin-top: 8px;\n    }\n    \n    .scc-message-key-container {\n      display: flex;\n      justify-content: space-between;\n    }\n    \n    .scc-clientId-text {\n      display: flex;\n      align-items: center;\n    }\n    \n    .scc-message-container-body {\n      padding: 12px;\n    }\n    \n    .scc-form {\n      padding: 12px;\n      margin-bottom: 8px;\n    }`.replace(/^\\s+|\\n/gm, \"\");\n}\n\n//# sourceURL=webpack://scc/./src/common/styles.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"webWidget\": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _widget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./widget */ \"./src/widget.js\");\n\n\n\n//# sourceURL=webpack://scc/./src/index.js?");

/***/ }),

/***/ "./src/libs/console-lib.js":
/*!*********************************!*\
  !*** ./src/libs/console-lib.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"orchestrate\": () => (/* binding */ orchestrate)\n/* harmony export */ });\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers.js */ \"./src/libs/helpers.js\");\n/* harmony import */ var _common_env_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/env.js */ \"./src/common/env.js\");\n\n\nconst baseUrl = _common_env_js__WEBPACK_IMPORTED_MODULE_1__.SCCVars.TRANSPORTER_BASE_URL;\nlet authToken = _common_env_js__WEBPACK_IMPORTED_MODULE_1__.SCCVars.AUTH_TOKEN;\nconst apiKey = _common_env_js__WEBPACK_IMPORTED_MODULE_1__.SCCVars.API_KEY;\nfunction init() {\n  if (_helpers_js__WEBPACK_IMPORTED_MODULE_0__.isUserLoggedInIMS()) {\n    console.log(\"Found adobeIms\");\n    const token = adobeIMS.getAccessToken().token || adobeIMS.token;\n    authToken = \"Bearer \" + token;\n  }\n}\n\nfunction getHeaders() {\n  return {\n    'content-type': 'application/json',\n    Authorization: authToken,\n    'x-api-key': apiKey\n  };\n}\n\nasync function getOrganizations() {\n  const url = `${baseUrl}/organizations`;\n  const options = {\n    method: 'GET',\n    headers: getHeaders()\n  };\n  return fetch(url, options).then(res => res.json());\n}\n\nasync function getFirstOrganization() {\n  return getOrganizations().then(orgs => orgs[0]);\n}\n\nasync function createProject(orgId, title) {\n  const url = `${baseUrl}/organizations/${orgId}/projects`;\n  let requestBody = {\n    \"name\": _helpers_js__WEBPACK_IMPORTED_MODULE_0__.generateRandomName(10),\n    \"title\": title,\n    \"type\": \"default\"\n  };\n  let options = {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify(requestBody)\n  };\n  return fetch(url, options).then(res => res.json());\n}\n\nasync function getProjects(orgId) {\n  const queryParams = new URLSearchParams({\n    size: '2',\n    page: '1',\n    sortField: 'date_last_modified',\n    sortOrder: 'DESC'\n  });\n  const url = `${baseUrl}/organizations/${orgId}/projects?` + queryParams;\n  let options = {\n    method: 'GET',\n    headers: getHeaders()\n  };\n  return fetch(url, options).then(res => res.json());\n}\n\nasync function getFirstProject(orgId) {\n  return getProjects(orgId).then(projects => projects[0]);\n}\n\nasync function getWorkspace(orgId, projectId) {\n  let url = `${baseUrl}/organizations/${orgId}/projects/${projectId}/workspaces`;\n  let options = {\n    method: 'GET',\n    headers: getHeaders()\n  };\n  return fetch(url, options).then(res => res.json()).then(workspaces => workspaces[0]);\n}\n\nasync function createAdobeIDCredentials(orgId, projectId, workspaceId) {\n  const url = `${baseUrl}/organizations/${orgId}/projects/${projectId}/workspaces/${workspaceId}/credentials/adobeId`;\n  const credNameAndDescription = `Credential ${_helpers_js__WEBPACK_IMPORTED_MODULE_0__.generateRandomName(12)}`;\n  let credDetails = {\n    \"name\": credNameAndDescription,\n    \"description\": credNameAndDescription,\n    \"platform\": \"WebApp\",\n    \"redirectUriList\": ['https://adobe\\\\.com'],\n    \"defaultRedirectUri\": 'https://adobe.com'\n  };\n  let options = {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify(credDetails)\n  };\n  return fetch(url, options).then(res => res.json());\n}\n\nasync function subscribeAdobeIdIntegrationToServices(orgId, credentialId, apiOrSdkCode) {\n  const url = `${baseUrl}/organizations/${orgId}/integrations/adobeid/${credentialId}/services`;\n  let requestBody = [{\n    \"sdkCode\": apiOrSdkCode\n  }];\n  let options = {\n    method: 'PUT',\n    headers: getHeaders(),\n    body: JSON.stringify(requestBody)\n  };\n  return fetch(url, options).then(res => res.json());\n}\n\nfunction getConsoleProjectUrl(orgId, projectId) {\n  return `${_common_env_js__WEBPACK_IMPORTED_MODULE_1__.SCCVars.CONSOLE_BASE_URL}/projects/${orgId}/${projectId}/overview`;\n}\n\nasync function getIntegrationSecrets(orgId, credentialId) {\n  const url = `${baseUrl}/organizations/${orgId}/integrations/${credentialId}/secrets`;\n  const options = {\n    method: 'GET',\n    headers: getHeaders()\n  };\n  return fetch(url, options).then(res => res.json());\n}\n\nasync function getClientSecret(orgId, credentialId) {\n  return getIntegrationSecrets(orgId, credentialId).then(integrationSecrets => integrationSecrets.client_secrets[0].client_secret);\n}\n\nfunction orchestrate(projectTitle, apiCode) {\n  let orgId, projectId, workspaceId, credential;\n  return getFirstOrganization() // Get/Create project flow. Keep any one commented\n  .then(org => {\n    orgId = org.id; // return getFirstProject(orgId);\n\n    return createProject(orgId, projectTitle);\n  }) // get workspace\n  .then(projectResponse => {\n    console.log(projectResponse);\n    projectId = projectResponse.projectId || projectResponse.id;\n    return getWorkspace(orgId, projectId);\n  }) // create credential\n  .then(workspace => {\n    workspaceId = workspace.id;\n    return createAdobeIDCredentials(orgId, projectId, workspaceId);\n  }) // Subscribe credential\n  .then(credentialRes => {\n    credential = credentialRes;\n    return subscribeAdobeIdIntegrationToServices(orgId, credential.id, apiCode);\n  }) // Get Client Secret\n  .then(_ => getClientSecret(orgId, credential.id)) // Return final response\n  .then(clientSecret => {\n    credential.clientSecret = clientSecret;\n    return {\n      'credential': credential,\n      'projectUrl': getConsoleProjectUrl(orgId, projectId)\n    };\n  });\n}\n\n//# sourceURL=webpack://scc/./src/libs/console-lib.js?");

/***/ }),

/***/ "./src/libs/helpers.js":
/*!*****************************!*\
  !*** ./src/libs/helpers.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"copyTextToClipboard\": () => (/* binding */ copyTextToClipboard),\n/* harmony export */   \"generateRandomName\": () => (/* binding */ generateRandomName),\n/* harmony export */   \"isUserLoggedInIMS\": () => (/* binding */ isUserLoggedInIMS),\n/* harmony export */   \"loadStylesheet\": () => (/* binding */ loadStylesheet)\n/* harmony export */ });\nfunction generateRandomName(length) {\n  var text = \"\";\n  const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n  for (var i = 0; i < length; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n  return text;\n}\nfunction loadStylesheet(url) {\n  var link = document.createElement('link');\n  link.rel = 'stylesheet';\n  link.type = 'text/css';\n  link.href = url;\n  var entry = document.getElementsByTagName('script')[0];\n  entry.parentNode.insertBefore(link, entry);\n}\nfunction isUserLoggedInIMS() {\n  return typeof adobeIMS === 'object' && adobeIMS !== null && adobeIMS.getAccessToken() !== null;\n}\n/**\n * Taken from https://stackoverflow.com/a/65996386/2742026\n * @param {*} textToCopy text to copy\n * @returns a promise\n */\n\nfunction copyTextToClipboard(textToCopy) {\n  // navigator clipboard api needs a secure context (https)\n  if (navigator.clipboard && window.isSecureContext) {\n    return navigator.clipboard.writeText(textToCopy);\n  } else {\n    // fallback to text area method\n    let textArea = document.createElement(\"textarea\");\n    textArea.value = textToCopy;\n    textArea.style.position = \"fixed\"; // avoid scrolling to bottom\n\n    textArea.style.opacity = 0; // hide the text area\n\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n    return new Promise((resolve, reject) => {\n      document.execCommand('copy') ? resolve() : reject();\n      textArea.remove();\n    });\n  }\n}\n\n//# sourceURL=webpack://scc/./src/libs/helpers.js?");

/***/ }),

/***/ "./src/libs/ui-helpers.js":
/*!********************************!*\
  !*** ./src/libs/ui-helpers.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createElement\": () => (/* binding */ createElement),\n/* harmony export */   \"createSpectrumActionButton\": () => (/* binding */ createSpectrumActionButton),\n/* harmony export */   \"createSpectrumBodyComponent\": () => (/* binding */ createSpectrumBodyComponent),\n/* harmony export */   \"createSpectrumProgressCircle\": () => (/* binding */ createSpectrumProgressCircle)\n/* harmony export */ });\nfunction createSpectrumBodyComponent(message) {\n  const messageContainer = document.createElement(\"div\");\n  messageContainer.classList.add(\"scc-message-container-body\");\n  const body = document.createElement(\"p\");\n  body.innerHTML = message;\n  body.classList.add(\"spectrum-Body\", 'spectrum-Body--sizeM');\n  messageContainer.appendChild(body);\n  return messageContainer;\n}\nfunction createSpectrumActionButton(text, extraCssClasses = []) {\n  const actionButton = document.createElement(\"button\");\n  actionButton.classList.add('spectrum-ActionButton', 'spectrum-ActionButton--sizeM');\n  extraCssClasses.forEach(cssClass => actionButton.classList.add(cssClass));\n  const actionButtonSpan = document.createElement(\"span\");\n  actionButtonSpan.textContent = text;\n  actionButton.appendChild(actionButtonSpan);\n  return actionButton;\n}\nfunction createSpectrumProgressCircle() {\n  let divContainer = createElement('spectrum-ProgressCircle spectrum-ProgressCircle--indeterminate spectrum-ProgressCircle--large');\n  let divTrack = createElement('spectrum-ProgressCircle-track');\n  divContainer.appendChild(divTrack);\n  let divFills = createElement('spectrum-ProgressCircle-fills');\n  let masks = ['Mask1', 'Mask2'];\n  masks.forEach(mask => {\n    let divMaskFill = createElement(`spectrum-ProgressCircle-fill${mask}`);\n    let divSubMaskFill = createElement(`spectrum-ProgressCircle-fillSub${mask}`);\n    let div3 = createElement('spectrum-ProgressCircle-fill');\n    divSubMaskFill.appendChild(div3);\n    divMaskFill.appendChild(divSubMaskFill);\n    divFills.appendChild(divMaskFill);\n  });\n  divContainer.appendChild(divFills);\n  return divContainer;\n}\nfunction createElement(cssClassString = \"\", elementType = \"div\") {\n  const htmlElement = document.createElement(elementType);\n\n  if (cssClassString !== \"\") {\n    const cssClasses = cssClassString.split(\" \");\n    cssClasses.forEach(cssClass => htmlElement.classList.add(cssClass));\n  }\n\n  return htmlElement;\n}\n\n//# sourceURL=webpack://scc/./src/libs/ui-helpers.js?");

/***/ }),

/***/ "./src/widget.js":
/*!***********************!*\
  !*** ./src/widget.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _libs_console_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./libs/console-lib.js */ \"./src/libs/console-lib.js\");\n/* harmony import */ var _libs_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./libs/helpers.js */ \"./src/libs/helpers.js\");\n/* harmony import */ var _libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./libs/ui-helpers.js */ \"./src/libs/ui-helpers.js\");\n/* harmony import */ var _common_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/styles */ \"./src/common/styles.js\");\n\n\n\n\n\nclass webWidget {\n  constructor({\n    position = \"top-right\",\n    apiCode,\n    isLoggedIn,\n    placementOffsets: placementOffsets\n  }) {\n    this.position = this.getPosition(position, placementOffsets);\n    this.apiCode = apiCode;\n    this.open = false;\n    this.initialise(isLoggedIn);\n    this.createStyles();\n  }\n\n  getPosition(position, placementOffsets) {\n    const [vertical, horizontal] = position.split(\"-\");\n    let placementOffsetsJson = {};\n\n    if (placementOffsets) {\n      placementOffsetsJson = JSON.parse(placementOffsets);\n    }\n\n    const verticalOffset = placementOffsetsJson.vertical || \"17px\";\n    const horizontalOffset = placementOffsetsJson.horizontal || \"240px\";\n\n    if (vertical == \"top\") {\n      this.top = \"45px\";\n    } else if (vertical == \"bottom\") {\n      this.bottom = \"75px\";\n    }\n\n    if (vertical == \"bottom\" && horizontal == \"right\") {\n      this.right = \"-25px\";\n    } else if (vertical == \"bottom\" && horizontal == \"left\") {\n      this.left = 0;\n    }\n\n    if (vertical == \"top\" && horizontal == \"right\") {\n      this.right = \"0px\";\n    } else if (vertical == \"top\" && horizontal == \"left\") {\n      this.left = \"0px\";\n    }\n\n    return {\n      [vertical]: verticalOffset,\n      [horizontal]: horizontalOffset\n    };\n  }\n\n  initialise(isLoggedIn) {\n    const baseUrl = \"https://cdn.jsdelivr.net/npm/\";\n    const styleSheets = [\"@adobe/spectrum-css@3.0.0/vars/spectrum-global.css\", \"@adobe/spectrum-css@3.0.0/vars/spectrum-medium.css\", \"@adobe/spectrum-css@3.0.0/vars/spectrum-light.css\", \"@spectrum-css/tokens@1.0.4/dist/index.css\", \"@adobe/spectrum-css@3.0.0/dist/components/page/index-vars.css\", \"@adobe/spectrum-css@3.0.0/dist/components/typography/index-vars.css\", \"@adobe/spectrum-css@3.0.0/dist/components/button/index-vars.css\", \"@spectrum-css/progresscircle@1.0.23/dist/index-vars.css\", \"@spectrum-css/actionbutton@2.1.1/dist/index-vars.css\"];\n    styleSheets.forEach(function (css) {\n      _libs_helpers_js__WEBPACK_IMPORTED_MODULE_1__.loadStylesheet(baseUrl + css);\n    });\n    const container = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('spectrum spectrum--medium spectrum--light');\n    container.style.position = \"fixed\";\n    container.style.zIndex = \"2\";\n    Object.keys(this.position).forEach(key => container.style[key] = this.position[key]);\n    document.body.appendChild(container);\n    const buttonContainer = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('scc-button-container');\n    const toggleWidgetButton = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('scc-widget-button spectrum-Button spectrum-Button--outline spectrum-Button--primary spectrum-Button--sizeM', 'button');\n    toggleWidgetButton.style.minWidth = \"140px\";\n    const getCredentialsSpan = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('spectrum-Button-label', 'span');\n    getCredentialsSpan.innerText = \"Get Credentials\";\n    this.getCredentialsContainer = getCredentialsSpan;\n    const closeSpan = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('spectrum-Button-label scc-hidden', 'span');\n    closeSpan.innerText = \"Close\";\n    this.closeContainer = closeSpan;\n    toggleWidgetButton.appendChild(this.getCredentialsContainer);\n    toggleWidgetButton.appendChild(this.closeContainer);\n    buttonContainer.appendChild(toggleWidgetButton);\n    buttonContainer.addEventListener(\"click\", this.toggleOpen.bind(this));\n    this.messageContainer = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)(\"scc-hidden scc-message-container spectrum spectrum--medium spectrum--light\");\n    this.createMessageContainerContent(isLoggedIn);\n    container.appendChild(this.messageContainer);\n    container.appendChild(buttonContainer);\n  }\n\n  createLoginMessageContainer(isLoggedIn) {\n    if (isLoggedIn) return;\n    const loginMessageContainer = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createSpectrumBodyComponent)('<strong>Please sign in to continue.</strong>');\n    this.messageContainer.append(loginMessageContainer);\n  }\n\n  createProgressBar() {\n    const loader = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createSpectrumProgressCircle)();\n    loader.setAttribute('id', 'scc-loader');\n    loader.classList.add('scc-hidden');\n    return loader;\n  }\n\n  createCredentialTemplateContainer(textContent, placeholderTextContainerId, isHidden = false) {\n    const container = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)();\n    const subHeader = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('scc-message-container-sub-header');\n    subHeader.textContent = textContent;\n    const secretContainer = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)(\"scc-message-key-container\");\n\n    if (isHidden) {\n      secretContainer.classList.add('scc-hidden');\n    }\n\n    const credentialContainer = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)(\"scc-clientId-text spectrum-Code spectrum-Code--sizeS\", \"code\");\n    credentialContainer.setAttribute('id', placeholderTextContainerId);\n    const infoSpan = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('scc-hidden', 'span');\n    infoSpan.innerText = \"Copied!\";\n    infoSpan.style.padding = \"7px\";\n    const copyButton = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createSpectrumActionButton)(\"Copy\", ['scc-button-container-small']);\n    copyButton.addEventListener('click', this.copyToClipboard.bind(this, credentialContainer, copyButton, infoSpan));\n    secretContainer.appendChild(credentialContainer);\n    secretContainer.appendChild(copyButton);\n    secretContainer.appendChild(infoSpan);\n    container.appendChild(subHeader);\n    container.appendChild(secretContainer);\n    return container;\n  }\n\n  createCredentialsContainer() {\n    const clientIdMainContainer = this.createCredentialTemplateContainer('API KEY (CLIENT ID)', 'scc-client-id');\n    const clientSecretMainContainer = this.createCredentialTemplateContainer('CLIENT SECRET', 'scc-client-secret', true);\n    const clientSecretRowContainer = clientSecretMainContainer.firstChild.nextSibling;\n    const retrieveClientSecretButtonContainer = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createSpectrumActionButton)(\"Retrieve Client Secret\");\n    retrieveClientSecretButtonContainer.addEventListener('click', this.retrieveClientSecret.bind(this, retrieveClientSecretButtonContainer, clientSecretRowContainer));\n    clientSecretMainContainer.appendChild(retrieveClientSecretButtonContainer);\n    const devConsoleLinkButtonContainer = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createSpectrumActionButton)(\"View in Developer Console\", ['scc-dev-console-link-container']);\n    devConsoleLinkButtonContainer.addEventListener('click', this.openDevConsoleLink.bind(this));\n    this.messageContainerBody.appendChild(clientIdMainContainer);\n    this.messageContainerBody.appendChild(clientSecretMainContainer);\n    this.messageContainerBody.appendChild(devConsoleLinkButtonContainer);\n  }\n\n  copyToClipboard(htmlElementToCopyFrom, copyButton, infoSpan) {\n    if (!this.credentialsCreated) return;\n    _libs_helpers_js__WEBPACK_IMPORTED_MODULE_1__.copyTextToClipboard(htmlElementToCopyFrom.innerText).then(() => {\n      copyButton.classList.add('scc-hidden');\n      infoSpan.classList.remove('scc-hidden');\n      setTimeout(function () {\n        copyButton.classList.remove('scc-hidden');\n        infoSpan.classList.add('scc-hidden');\n      }, 1000);\n    }).catch(() => console.error(\"Failed to copy\"));\n  }\n\n  openDevConsoleLink() {\n    if (!this.devConsoleLink) return;\n    window.open(this.devConsoleLink);\n  }\n\n  retrieveClientSecret(elementToHide, elementToShow) {\n    elementToHide.classList.add('scc-hidden');\n    elementToShow.classList.remove('scc-hidden');\n  }\n\n  createForm(isLoggedIn) {\n    // Form that calls Dev Console's APIs on submission\n    const form = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('scc-form spectrum-Form', 'form');\n    this.formContainer = form;\n    const btn = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('spectrum-Button spectrum-Button--outline spectrum-Button--primary spectrum-Button--sizeM', 'button');\n\n    if (!isLoggedIn) {\n      btn.setAttribute('disabled', '');\n    }\n\n    const span = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('spectrum-Button-label', 'span');\n    span.textContent = 'Create Credentials';\n    btn.appendChild(span);\n    form.appendChild(btn);\n    form.addEventListener('submit', this.submit.bind(this));\n    this.messageContainer.appendChild(form);\n  }\n\n  createMessageContainerContent(isLoggedIn) {\n    if (this.credentialsCreated) return;\n    this.messageContainer.innerHTML = \"\";\n    const title = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('spectrum-Heading spectrum-Heading--sizeS', 'h3');\n    title.textContent = `Create New Credentials`;\n    this.messageContainer.appendChild(title);\n    const genericMessageContainer = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createSpectrumBodyComponent)('To start using the APIs, you need to create credentials for your application.');\n    this.genericMessageContainer = genericMessageContainer;\n    this.messageContainer.appendChild(genericMessageContainer);\n    this.progressBar = this.createProgressBar();\n    this.messageContainer.appendChild(this.progressBar);\n    this.createLoginMessageContainer(isLoggedIn);\n    const messageContainerBody = (0,_libs_ui_helpers_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('scc-message-container-body scc-hidden');\n    this.messageContainer.appendChild(messageContainerBody);\n    this.messageContainerBody = messageContainerBody;\n    this.createCredentialsContainer();\n    this.createForm(isLoggedIn);\n  }\n\n  createStyles() {\n    const styleTag = document.createElement(\"style\");\n    styleTag.innerHTML = _common_styles__WEBPACK_IMPORTED_MODULE_3__.getSCCStyles(this.top, this.left, this.bottom, this.right);\n    document.head.appendChild(styleTag);\n  }\n\n  toggleOpen() {\n    this.open = !this.open;\n\n    if (this.open) {\n      this.getCredentialsContainer.classList.add(\"scc-hidden\");\n      this.closeContainer.classList.remove(\"scc-hidden\");\n      this.messageContainer.classList.remove(\"scc-hidden\");\n    } else {\n      this.createMessageContainerContent(_libs_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isUserLoggedInIMS());\n      this.getCredentialsContainer.classList.remove(\"scc-hidden\");\n      this.closeContainer.classList.add(\"scc-hidden\");\n      this.messageContainer.classList.add(\"scc-hidden\");\n    }\n  }\n\n  showProgressBar() {\n    this.progressBar.classList.remove(\"scc-hidden\");\n    this.messageContainerBody.classList.add(\"scc-hidden\");\n    this.formContainer.classList.add(\"scc-hidden\");\n  }\n\n  hideProgressBar() {\n    this.progressBar.classList.add(\"scc-hidden\");\n    this.messageContainerBody.classList.remove(\"scc-hidden\");\n    this.genericMessageContainer.classList.add(\"scc-hidden\");\n  }\n\n  submit(event) {\n    event.preventDefault();\n    this.showProgressBar();\n    _libs_console_lib_js__WEBPACK_IMPORTED_MODULE_0__.init();\n    let projectTitle = `Project SCC ${_libs_helpers_js__WEBPACK_IMPORTED_MODULE_1__.generateRandomName(3)}`;\n    _libs_console_lib_js__WEBPACK_IMPORTED_MODULE_0__.orchestrate(projectTitle, this.apiCode).then(res => {\n      console.log(res);\n      document.getElementById('scc-client-id').innerText = res.credential.apiKey;\n      document.getElementById('scc-client-secret').innerText = res.credential.clientSecret;\n      this.devConsoleLink = res.projectUrl;\n      this.credentialsCreated = true;\n    }).catch(err => console.error(err)).finally(() => this.hideProgressBar());\n  }\n\n}\n\nfunction isWidgetPresent() {\n  return document.getElementById('scc-widget');\n}\n\nfunction getWidgetDataSet() {\n  if (!isWidgetPresent()) return null;\n  let scripts = document.getElementsByTagName('script');\n\n  for (var i = 0; i < scripts.length; i++) {\n    // API Code is mandatory to pass\n    let script = scripts[i];\n    let datasetObj = script.dataset;\n\n    if (script.hasAttribute('data-scc-api-code')) {\n      return datasetObj;\n    }\n  }\n}\n\nwindow.addEventListener('load', function () {\n  if (!isWidgetPresent()) return;\n  const dataset = getWidgetDataSet();\n  console.log(dataset);\n  new webWidget({\n    position: dataset.sccPosition,\n    apiCode: dataset.sccApiCode,\n    isLoggedIn: _libs_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isUserLoggedInIMS(),\n    placementOffsets: dataset.sccPlacementOffsets\n  });\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (webWidget);\n\n//# sourceURL=webpack://scc/./src/widget.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});